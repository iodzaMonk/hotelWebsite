# Route clean URLs like /controller/action/id to index.php parameters
RewriteEngine On
RewriteBase /4205H6/MonBlog-sans-mvc/

# Skip rewriting for existing files, directories, or symbolic links
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d [OR]
RewriteCond %{REQUEST_FILENAME} -l
RewriteRule ^ - [L]

# Allow the front controller to handle the base path
RewriteRule ^$ index.php [L]

# AdminRoom delete route ensures both ids map correctly
RewriteRule ^AdminRoom/delete/([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/?$ index.php?controller=AdminRoom&action=delete&idR=$1&idH=$2 [QSA,L,NC]

# /controller
RewriteRule ^([A-Za-z0-9_-]+)/?$ index.php?controller=$1 [QSA,L,NC]

# /controller/action
RewriteRule ^([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/?$ index.php?controller=$1&action=$2 [QSA,L,NC]

# /controller/action/id
RewriteRule ^([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/?$ index.php?controller=$1&action=$2&id=$3 [QSA,L,NC]

# /controller/action/id/extra (kept generic for future use)
RewriteRule ^([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/([A-Za-z0-9_-]+)/?$ index.php?controller=$1&action=$2&id=$3&extra=$4 [QSA,L,NC]
